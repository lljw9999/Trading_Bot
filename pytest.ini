[pytest]
markers =
    integration: requires external services
    ml: needs xgboost/lightgbm
    onnx: needs onnxruntime
    soak: long-running
    nownodes: requires USE_NOWNODES=1 and websockets library
    asyncio: uses pytest-asyncio coroutine support

# CI configuration as per Future_instruction.txt
addopts = --maxfail=5 --durations=20 --tb=short --strict-markers
asyncio_mode = auto
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Coverage configuration
# Install pytest-cov for coverage: pip install pytest-cov
# Uncomment below line to enable coverage with 75% threshold:
# addopts = --maxfail=5 --durations=20 --tb=short --strict-markers --cov=src --cov-fail-under=75 --cov-report=term-missing
